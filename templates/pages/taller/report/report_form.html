{% load i18n %}
{% load static %}
{% load filter %}
<link href="{% static "themes/global/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css" %}" rel="stylesheet">
<link href="{% static "themes/global/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css" %}" rel="stylesheet">
<script src="{% static "themes/global/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js" %}"></script>
<script src="{% static "themes/js/jasny-bootstrap.js" %}"></script>
<script src="{% static "themes/js/formset.js" %}"></script>


<script>
    jQuery('#id_report_current_date').datepicker({autoclose: true, format: 'yyyy-mm-dd', language:'es'});
</script>
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">Add Report New</h4>
        </div>
        <div class="modal-body">
            <div class="col-sm-6 col-md-12">
                <form id="form_report" class="form-horizontal" enctype="multipart/form-data">
                    {% csrf_token %}
                     <ul class="nav nav-tabs" role="tablist">
                      <li role="presentation" class="active"><a href="#report_info" role="tab" data-toggle="tab" aria-expanded="true">{% trans 'report' %}</a></li>
                      <li role="presentation" class=""><a href="#report_info_doc" role="tab" data-toggle="tab" aria-expanded="false">{% trans 'report doc' %} </a></li>
                    </ul>
                    <!-- Tab panes -->
                    <div class="tab-content">
                      <div role="tabpanel" class="tab-pane active" id="report_info">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label col-md-3">{% trans 'Date' %}</label>
                                <div class="input-group">
                                   {{ form_report.current_date }}
                                  <div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                                </div>
                                <span class="help-block">{{ form_report.current_date.errors }}</span>
                            </div>
                             <div class="form-group">
                                <label class="control-label col-md-3">{% trans 'Client' %}</label>
                                <div class="col-md-9">
                                    {{ form_report.client }}
                                    <span class="help-block">{{ form_report.client.errors }}</span>
                                </div>
                            </div>
                             <div class="form-group">
                                <label class="control-label col-md-3">{% trans 'Vehicle' %}</label>
                                <div class="col-md-9">
                                    {{ form_report.vehicle }}
                                    <span class="help-block">{{ form_report.vehicle.errors }}</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-3">{% trans 'Observation' %}</label>
                                <div class="col-md-9">
                                    {{ form_report.observation }}
                                    <span class="help-block">{{ form_report.observation.errors }}</span>
                                </div>
                            </div>

                        </div>
                        <div class="clearfix"></div>
                      </div>
                      <div role="tabpanel" class="tab-pane" id="report_info_doc">
                        <div class="col-md-12">
                            <div class="col-md-3 col-md-push-9">
                                <button type="button" onclick="add_formset_global('{{ form_report_doc.prefix }}')" class="fcbtn btn btn-primary btn-outline btn-1c waves-effect">Add</button>
                            </div>
                            <div class="clear"></div>
                            <br/>
                            <div class="col-md-12" id="content_{{ form_report_doc.prefix }}">
                                {% if form_report_doc   %}
                                    {% for form in form_report_doc %}
                                        <div class="form-group dynamic-form"  id="{{ form.prefix }}-row">
                                            {{ form.id|addcss:"hidden" }}
                                            {{ form.DELETE|addcss:"hidden" }}
                                            {{ form.ORDER|addcss:"hidden" }}
                                             <label class="col-sm-3">File upload</label>
                                            <div class="col-sm-7">
                                                {{ form.file_image }}
                                            </div>
                                            <div class="col-sm-2 formset-icon-remove">
                                                <button  type="button"  onclick="remove_formset_global(this, '{{ form_report_doc.prefix}}')" class="btn btn-danger btn-circle waves-effect"><i class="fa fa-times"></i> </button>
                                            </div>
                                        </div>
                                    {% endfor %}
                                 {% endif %}
                            </div>
                            {{ form_report_doc.non_form_errors }}
                            {{ form_report_doc.management_form }}
                        </div>
                        <div class="clearfix"></div>
                      </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">{% trans "Cancel" %}</button>
             {% if not btn_edit %}
                <button type="button" id="save_report" class="btn btn-danger waves-effect waves-ligh">{% trans "Submit" %}</button>
            {% else %}
                <button type="button" id="update_report" data-id="{{ form_pk }}" class="btn btn-danger waves-effect waves-ligh">{% trans "Update" %}</button>
            {% endif %}
        </div>
    </div>
</div>
